<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Main Court | BLAST Curriculum | Coach D's Fieldhouse</title>
  <meta name="description" content="BLAST basketball training curriculum. 156 drills across 16 categories. Train smarter with neuroplasticity-based methodology.">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üèÄ</text></svg>">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --bg-deep: #000D1A;
      --bg-card: #0a1929;
      --bg-elevated: #0f2744;
      --border: #0d2840;
      --border-light: #1a3a5c;
      --text: #e8e8e8;
      --text-muted: #8899a6;
      --text-dim: #5c6f7e;
      --gold: #d4a84b;
      --gold-dim: #b8943f;
      --travel: #22c55e;
      --travel-bg: rgba(34, 197, 94, 0.15);
      --varsity: #eab308;
      --varsity-bg: rgba(234, 179, 8, 0.15);
      --recruit: #dc2626;
      --recruit-bg: rgba(220, 38, 38, 0.15);
      --accent: #3b82f6;
      --accent-bg: rgba(59, 130, 246, 0.15);
    }

    body {
      font-family: 'Noto Sans', system-ui, -apple-system, sans-serif;
      background: var(--bg-deep);
      color: var(--text);
      min-height: 100vh;
      line-height: 1.6;
    }

    /* Password Protection */
    .password-gate {
      position: fixed;
      inset: 0;
      background: var(--bg-deep);
      z-index: 9999;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .password-gate.hidden {
      display: none;
    }

    .password-box {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 2.5rem;
      max-width: 400px;
      width: 90%;
      text-align: center;
    }

    .password-box h2 {
      margin-bottom: 0.5rem;
      font-size: 1.5rem;
    }

    .password-box p {
      color: var(--text-muted);
      margin-bottom: 1.5rem;
      font-size: 0.9rem;
    }

    .password-input {
      width: 100%;
      padding: 0.75rem 1rem;
      background: var(--bg-deep);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-size: 1rem;
      margin-bottom: 1rem;
      text-align: center;
      letter-spacing: 0.1em;
    }

    .password-input:focus {
      outline: none;
      border-color: var(--gold);
    }

    .password-submit {
      width: 100%;
      padding: 0.75rem 1.5rem;
      background: var(--gold);
      border: none;
      border-radius: 8px;
      color: var(--bg-deep);
      font-weight: 600;
      font-size: 1rem;
      cursor: pointer;
      transition: background 0.2s;
    }

    .password-submit:hover {
      background: var(--gold-dim);
    }

    .password-error {
      color: var(--recruit);
      font-size: 0.85rem;
      margin-top: 1rem;
      display: none;
    }

    .password-error.show {
      display: block;
    }

    .content-protected {
      display: none;
    }

    .content-protected.unlocked {
      display: block;
    }

    /* Navigation */
    .nav {
      position: sticky;
      top: 0;
      background: rgba(0, 13, 26, 0.95);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid var(--border);
      padding: 0.75rem 1rem;
      z-index: 100;
    }

    .nav-inner {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 1rem;
    }

    .nav-brand {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      text-decoration: none;
      color: var(--text);
    }

    .nav-brand-icon {
      font-size: 1.5rem;
    }

    .nav-brand-text {
      font-weight: 600;
    }

    .nav-brand-sub {
      color: var(--text-muted);
      font-size: 0.85rem;
      margin-left: 0.5rem;
    }

    .nav-links {
      display: flex;
      gap: 0.5rem;
    }

    .nav-link {
      padding: 0.5rem 1rem;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text-muted);
      text-decoration: none;
      font-size: 0.85rem;
      transition: all 0.2s;
    }

    .nav-link:hover {
      border-color: var(--gold);
      color: var(--gold);
    }

    .nav-link.active {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--bg-deep);
    }

    /* Hero */
    .hero {
      background: linear-gradient(180deg, var(--bg-card) 0%, var(--bg-deep) 100%);
      padding: 4rem 1rem;
      text-align: center;
      border-bottom: 1px solid var(--border);
    }

    .hero-content {
      max-width: 800px;
      margin: 0 auto;
    }

    .hero-badge {
      display: inline-block;
      background: var(--accent-bg);
      color: var(--accent);
      padding: 0.4rem 1rem;
      border-radius: 2rem;
      font-size: 0.85rem;
      font-weight: 500;
      margin-bottom: 1.5rem;
    }

    .hero h1 {
      font-size: 3rem;
      font-weight: 700;
      margin-bottom: 1rem;
    }

    .hero h1 span {
      color: var(--gold);
    }

    .hero-tagline {
      font-size: 1.25rem;
      color: var(--text-muted);
      margin-bottom: 2rem;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 3rem;
      margin-bottom: 2rem;
    }

    .stat {
      text-align: center;
    }

    .stat-value {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--gold);
    }

    .stat-label {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    .hero-cta {
      display: flex;
      justify-content: center;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .btn {
      padding: 0.75rem 1.5rem;
      border-radius: 8px;
      font-weight: 500;
      text-decoration: none;
      transition: all 0.2s;
      cursor: pointer;
      border: none;
      font-size: 1rem;
    }

    .btn-primary {
      background: var(--gold);
      color: var(--bg-deep);
    }

    .btn-primary:hover {
      background: var(--gold-dim);
    }

    .btn-secondary {
      background: transparent;
      border: 1px solid var(--border);
      color: var(--text);
    }

    .btn-secondary:hover {
      border-color: var(--gold);
      color: var(--gold);
    }

    /* Sections */
    .section {
      padding: 4rem 1rem;
      max-width: 1400px;
      margin: 0 auto;
    }

    .section-header {
      text-align: center;
      margin-bottom: 3rem;
    }

    .section-title {
      font-size: 2rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .section-subtitle {
      color: var(--text-muted);
    }

    /* Philosophy Cards */
    .philosophy-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 1.5rem;
    }

    .philosophy-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1.5rem;
      transition: border-color 0.2s;
    }

    .philosophy-card:hover {
      border-color: var(--gold);
    }

    .philosophy-icon {
      font-size: 2rem;
      margin-bottom: 1rem;
    }

    .philosophy-card h3 {
      font-size: 1.1rem;
      margin-bottom: 0.5rem;
    }

    .philosophy-card p {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Level Legend */
    .level-legend {
      display: flex;
      justify-content: center;
      gap: 2rem;
      margin-bottom: 2rem;
      flex-wrap: wrap;
    }

    .level-item {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .level-badge {
      padding: 0.25rem 0.75rem;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
    }

    .level-travel {
      background: var(--travel-bg);
      color: var(--travel);
    }

    .level-varsity {
      background: var(--varsity-bg);
      color: var(--varsity);
    }

    .level-recruit {
      background: var(--recruit-bg);
      color: var(--recruit);
    }

    .level-desc {
      font-size: 0.85rem;
      color: var(--text-muted);
    }

    /* Drill Browser */
    .drill-browser {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
    }

    .browser-header {
      padding: 1.5rem;
      border-bottom: 1px solid var(--border);
      background: var(--bg-elevated);
    }

    .filter-row {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
      align-items: center;
    }

    .search-box {
      flex: 1;
      min-width: 200px;
      position: relative;
    }

    .search-box input {
      width: 100%;
      padding: 0.75rem 1rem 0.75rem 2.5rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-size: 0.95rem;
    }

    .search-box input:focus {
      outline: none;
      border-color: var(--gold);
    }

    .search-box::before {
      content: "üîç";
      position: absolute;
      left: 0.75rem;
      top: 50%;
      transform: translateY(-50%);
      font-size: 0.9rem;
    }

    .filter-select {
      padding: 0.75rem 1rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      color: var(--text);
      font-size: 0.95rem;
      cursor: pointer;
      min-width: 150px;
    }

    .filter-select:focus {
      outline: none;
      border-color: var(--gold);
    }

    .filter-count {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Category Pills */
    .category-pills {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      padding: 1rem 1.5rem;
      border-bottom: 1px solid var(--border);
      background: var(--bg-card);
    }

    .category-pill {
      padding: 0.5rem 1rem;
      background: transparent;
      border: 1px solid var(--border);
      border-radius: 2rem;
      color: var(--text-muted);
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .category-pill:hover {
      border-color: var(--gold);
      color: var(--gold);
    }

    .category-pill.active {
      background: var(--gold);
      border-color: var(--gold);
      color: var(--bg-deep);
    }

    .category-pill .count {
      opacity: 0.7;
      margin-left: 0.25rem;
    }

    /* Drill Grid */
    .drill-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
      gap: 1rem;
      padding: 1.5rem;
      max-height: 800px;
      overflow-y: auto;
    }

    .drill-card {
      background: var(--bg-deep);
      border: 1px solid var(--border);
      border-radius: 8px;
      overflow: hidden;
      transition: all 0.2s;
    }

    .drill-card:hover {
      border-color: var(--gold);
    }

    .drill-card.expanded {
      grid-column: 1 / -1;
      max-width: 800px;
    }

    .drill-header {
      padding: 1rem;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 1rem;
    }

    .drill-info {
      flex: 1;
    }

    .drill-name {
      font-weight: 600;
      font-size: 1rem;
      margin-bottom: 0.5rem;
    }

    .drill-meta {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      align-items: center;
    }

    .drill-category {
      font-size: 0.75rem;
      color: var(--text-muted);
      background: var(--bg-card);
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
    }

    .drill-sequence {
      font-size: 0.75rem;
      color: var(--text-dim);
    }

    .drill-levels {
      display: flex;
      gap: 0.25rem;
    }

    .drill-level {
      width: 24px;
      height: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 4px;
      font-size: 0.7rem;
      font-weight: 700;
    }

    .expand-icon {
      color: var(--text-muted);
      font-size: 1.25rem;
      transition: transform 0.2s;
    }

    .drill-card.expanded .expand-icon {
      transform: rotate(180deg);
    }

    .drill-details {
      display: none;
      padding: 0 1rem 1rem;
      border-top: 1px solid var(--border);
    }

    .drill-card.expanded .drill-details {
      display: block;
    }

    .drill-section {
      margin-top: 1rem;
    }

    .drill-section-title {
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--gold);
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 0.5rem;
    }

    .drill-balance {
      font-size: 0.9rem;
      color: var(--text-muted);
      font-style: italic;
      padding: 0.75rem;
      background: var(--bg-card);
      border-radius: 6px;
      border-left: 3px solid var(--gold);
    }

    .drill-steps {
      list-style: none;
      counter-reset: step;
    }

    .drill-steps li {
      counter-increment: step;
      padding: 0.5rem 0;
      padding-left: 2rem;
      position: relative;
      font-size: 0.9rem;
      border-bottom: 1px solid var(--border);
    }

    .drill-steps li:last-child {
      border-bottom: none;
    }

    .drill-steps li::before {
      content: counter(step);
      position: absolute;
      left: 0;
      width: 1.5rem;
      height: 1.5rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 0.75rem;
      font-weight: 600;
      color: var(--gold);
    }

    .drill-mods {
      display: flex;
      flex-wrap: wrap;
      gap: 0.5rem;
    }

    .drill-mod {
      font-size: 0.8rem;
      padding: 0.4rem 0.75rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 4px;
      color: var(--text-muted);
    }

    .drill-tip {
      font-size: 0.9rem;
      padding: 0.75rem;
      background: var(--accent-bg);
      border-radius: 6px;
      color: var(--text);
    }

    .drill-tip::before {
      content: "üí° ";
    }

    .drill-actions {
      display: flex;
      gap: 0.5rem;
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
    }

    .drill-action {
      padding: 0.5rem 1rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 6px;
      color: var(--text-muted);
      font-size: 0.85rem;
      cursor: pointer;
      transition: all 0.2s;
    }

    .drill-action:hover {
      border-color: var(--gold);
      color: var(--gold);
    }

    .drill-action.added {
      background: var(--travel-bg);
      border-color: var(--travel);
      color: var(--travel);
    }

    /* Empty State */
    .empty-state {
      text-align: center;
      padding: 4rem 2rem;
      color: var(--text-muted);
    }

    .empty-state-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    /* Practice Builder */
    .practice-builder {
      position: fixed;
      bottom: 0;
      left: 0;
      right: 0;
      background: var(--bg-card);
      border-top: 1px solid var(--border);
      transform: translateY(calc(100% - 60px));
      transition: transform 0.3s ease;
      z-index: 50;
    }

    .practice-builder.expanded {
      transform: translateY(0);
    }

    .practice-builder.has-drills {
      transform: translateY(calc(100% - 60px));
    }

    .practice-builder.has-drills.expanded {
      transform: translateY(0);
    }

    .builder-toggle {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 1rem 1.5rem;
      cursor: pointer;
      background: var(--bg-elevated);
      border-bottom: 1px solid var(--border);
    }

    .builder-toggle-left {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .builder-count {
      background: var(--gold);
      color: var(--bg-deep);
      width: 28px;
      height: 28px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.85rem;
    }

    .builder-title {
      font-weight: 600;
    }

    .builder-toggle-icon {
      font-size: 1.25rem;
      transition: transform 0.2s;
    }

    .practice-builder.expanded .builder-toggle-icon {
      transform: rotate(180deg);
    }

    .builder-content {
      padding: 1.5rem;
      max-height: 400px;
      overflow-y: auto;
    }

    .builder-drills {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-bottom: 1rem;
    }

    .builder-drill {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 0.75rem;
      background: var(--bg-deep);
      border: 1px solid var(--border);
      border-radius: 6px;
    }

    .builder-drill-info {
      flex: 1;
    }

    .builder-drill-name {
      font-weight: 500;
      font-size: 0.9rem;
    }

    .builder-drill-cat {
      font-size: 0.75rem;
      color: var(--text-muted);
    }

    .builder-drill-time {
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .builder-drill-time input {
      width: 50px;
      padding: 0.4rem;
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 4px;
      color: var(--text);
      text-align: center;
      font-size: 0.85rem;
    }

    .builder-drill-time span {
      font-size: 0.8rem;
      color: var(--text-muted);
    }

    .builder-drill-remove {
      background: none;
      border: none;
      color: var(--text-muted);
      cursor: pointer;
      font-size: 1.25rem;
      padding: 0.25rem;
    }

    .builder-drill-remove:hover {
      color: var(--recruit);
    }

    .builder-actions {
      display: flex;
      gap: 1rem;
      flex-wrap: wrap;
    }

    .builder-total {
      margin-left: auto;
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    .builder-total strong {
      color: var(--gold);
    }

    /* Coaching Cues */
    .cues-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
      gap: 1rem;
    }

    .cue-card {
      background: var(--bg-card);
      border: 1px solid var(--border);
      border-radius: 8px;
      padding: 1rem;
    }

    .cue-text {
      font-weight: 600;
      color: var(--gold);
      margin-bottom: 0.5rem;
      font-size: 1.1rem;
    }

    .cue-meaning {
      color: var(--text-muted);
      font-size: 0.9rem;
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 3rem 1rem;
      border-top: 1px solid var(--border);
      color: var(--text-muted);
      font-size: 0.85rem;
      margin-bottom: 60px;
    }

    footer a {
      color: var(--gold);
      text-decoration: none;
    }

    footer a:hover {
      text-decoration: underline;
    }

    /* Print Styles */
    @media print {
      .nav, .practice-builder, .drill-actions, .filter-row, .category-pills, .hero-cta, .btn {
        display: none !important;
      }

      body {
        background: white;
        color: black;
      }

      .drill-card {
        break-inside: avoid;
        border: 1px solid #ccc;
        page-break-inside: avoid;
      }

      .drill-card.expanded .drill-details {
        display: block !important;
      }

      .drill-grid {
        max-height: none;
        overflow: visible;
      }
    }

    /* Responsive */
    @media (max-width: 768px) {
      .hero h1 {
        font-size: 2rem;
      }

      .hero-stats {
        gap: 1.5rem;
      }

      .stat-value {
        font-size: 2rem;
      }

      .nav-brand-sub {
        display: none;
      }

      .drill-grid {
        grid-template-columns: 1fr;
      }

      .filter-row {
        flex-direction: column;
        align-items: stretch;
      }

      .search-box {
        min-width: 100%;
      }

      .section {
        padding: 2rem 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- Password Gate -->
  <div class="password-gate" id="passwordGate">
    <div class="password-box">
      <h2>üîí Protected Content</h2>
      <p>This curriculum is for authorized coaches and athletes.</p>
      <input type="password" class="password-input" id="passwordInput" placeholder="Enter access code" autocomplete="off">
      <button class="password-submit" onclick="checkPassword()">Enter</button>
      <div class="password-error" id="passwordError">Incorrect code. Try again.</div>
    </div>
  </div>

  <!-- Protected Content -->
  <div class="content-protected" id="protectedContent">

  <!-- Navigation -->
  <nav class="nav">
    <div class="nav-inner">
      <a href="../" class="nav-brand">
        <span class="nav-brand-icon">üèÄ</span>
        <span class="nav-brand-text">Coach D's Fieldhouse</span>
        <span class="nav-brand-sub">/ Main Court</span>
      </a>
      <div class="nav-links">
        <a href="#philosophy" class="nav-link">Philosophy</a>
        <a href="#drills" class="nav-link active">Drills</a>
        <a href="#cues" class="nav-link">Cues</a>
      </div>
    </div>
  </nav>

  <!-- Hero -->
  <section class="hero">
    <div class="hero-content">
      <div class="hero-badge">BLAST Curriculum</div>
      <h1>The <span>Main Court</span></h1>
      <p class="hero-tagline">156 drills. 16 categories. 3 progression levels.<br>Train smarter with neuroplasticity-based methodology.</p>

      <div class="hero-stats">
        <div class="stat">
          <div class="stat-value">156</div>
          <div class="stat-label">Drills</div>
        </div>
        <div class="stat">
          <div class="stat-value">16</div>
          <div class="stat-label">Categories</div>
        </div>
        <div class="stat">
          <div class="stat-value">3</div>
          <div class="stat-label">Levels</div>
        </div>
      </div>

      <div class="hero-cta">
        <a href="#drills" class="btn btn-primary">Browse Drills</a>
        <a href="#philosophy" class="btn btn-secondary">Learn the Method</a>
      </div>
    </div>
  </section>

  <!-- Philosophy Section -->
  <section id="philosophy" class="section">
    <div class="section-header">
      <h2 class="section-title">The Method</h2>
      <p class="section-subtitle">Neuroplasticity-based training that builds both skills and mental toughness</p>
    </div>

    <div class="philosophy-grid">
      <div class="philosophy-card">
        <div class="philosophy-icon">üß†</div>
        <h3>Bilateral Development</h3>
        <p>The "Get 50" assessment identifies skill gaps between hands. We don't just accept weakness‚Äîwe systematically eliminate it through targeted neuroplasticity training.</p>
      </div>
      <div class="philosophy-card">
        <div class="philosophy-icon">ü•ä</div>
        <h3>Constraint as Advantage</h3>
        <p>The boxing glove isn't a limitation‚Äîit's an offensive weapon. We transform constraints into confidence builders, creating players who dominate through adaptation.</p>
      </div>
      <div class="philosophy-card">
        <div class="philosophy-icon">üî•</div>
        <h3>Frustration as Fuel</h3>
        <p>Setbacks become springboards. We train athletes to channel frustration into focused improvement, building mental resilience that transfers far beyond basketball.</p>
      </div>
      <div class="philosophy-card">
        <div class="philosophy-icon">üåä</div>
        <h3>Chaos to Flow</h3>
        <p>Multi-modal drills create controlled chaos‚Äîcounting, footwork, communication, execution. Master the chaos, and game situations feel effortless.</p>
      </div>
      <div class="philosophy-card">
        <div class="philosophy-icon">üìà</div>
        <h3>Progressive Challenge</h3>
        <p>Travel ‚Üí Varsity ‚Üí Recruit. Each level builds on the last, adding complexity only when the foundation is solid. No shortcuts, just systematic growth.</p>
      </div>
      <div class="philosophy-card">
        <div class="philosophy-icon">üí¨</div>
        <h3>Narrative Management</h3>
        <p>"The narrative you tell yourself becomes the story." We coach mental performance in real-time, transforming negative self-talk into championship mindset.</p>
      </div>
    </div>
  </section>

  <!-- Drill Browser -->
  <section id="drills" class="section">
    <div class="section-header">
      <h2 class="section-title">Drill Library</h2>
      <p class="section-subtitle">Click any drill to expand full execution details</p>
    </div>

    <div class="level-legend">
      <div class="level-item">
        <span class="level-badge level-travel">T</span>
        <span class="level-desc">Travel (Youth: 2nd-8th)</span>
      </div>
      <div class="level-item">
        <span class="level-badge level-varsity">V</span>
        <span class="level-desc">Varsity (High School)</span>
      </div>
      <div class="level-item">
        <span class="level-badge level-recruit">R</span>
        <span class="level-desc">Recruit (College-Bound)</span>
      </div>
    </div>

    <div class="drill-browser">
      <div class="browser-header">
        <div class="filter-row">
          <div class="search-box">
            <input type="text" id="drillSearch" placeholder="Search drills...">
          </div>
          <select id="levelFilter" class="filter-select">
            <option value="">All Levels</option>
            <option value="travel">Travel</option>
            <option value="varsity">Varsity</option>
            <option value="recruit">Recruit</option>
          </select>
          <span class="filter-count" id="drillCount">155 drills</span>
        </div>
      </div>

      <div class="category-pills" id="categoryPills">
        <button class="category-pill active" data-category="">All <span class="count">(155)</span></button>
      </div>

      <div class="drill-grid" id="drillGrid">
        <!-- Drills rendered by JavaScript -->
      </div>
    </div>
  </section>

  <!-- Coaching Cues -->
  <section id="cues" class="section">
    <div class="section-header">
      <h2 class="section-title">Coaching Cues</h2>
      <p class="section-subtitle">The language that drives execution</p>
    </div>

    <div class="cues-grid" id="cuesGrid">
      <!-- Cues rendered by JavaScript -->
    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>BLAST Curriculum by <a href="https://phoenixgrindbasketball.com" target="_blank">Phoenix Grind Basketball</a></p>
    <p style="margin-top: 0.5rem;">Format & Platform by <a href="https://claudewill.io/derek" target="_blank">Derek Claude Simmons</a></p>
    <p style="margin-top: 1rem; font-size: 0.8rem;">Part of <a href="../">Coach D's Fieldhouse</a></p>
  </footer>

  <!-- Practice Builder -->
  <div class="practice-builder" id="practiceBuilder">
    <div class="builder-toggle" onclick="toggleBuilder()">
      <div class="builder-toggle-left">
        <div class="builder-count" id="builderCount">0</div>
        <span class="builder-title">Practice Builder</span>
      </div>
      <span class="builder-toggle-icon">‚ñ≤</span>
    </div>
    <div class="builder-content">
      <div class="builder-drills" id="builderDrills">
        <div class="empty-state">
          <p>Click "Add to Practice" on any drill to start building</p>
        </div>
      </div>
      <div class="builder-actions">
        <button class="btn btn-secondary" onclick="clearBuilder()">Clear All</button>
        <button class="btn btn-primary" onclick="printPractice()">Print Practice</button>
        <div class="builder-total">Total: <strong id="builderTotal">0 min</strong></div>
      </div>
    </div>
  </div>

  <!-- Include drill data -->
  <script src="drills.js"></script>

  <script>
    // State
    let currentCategory = '';
    let currentLevel = '';
    let searchQuery = '';
    let expandedDrill = null;
    let practiceList = [];
    let builderExpanded = false;

    // Initialize
    document.addEventListener('DOMContentLoaded', () => {
      renderCategoryPills();
      renderDrills();
      renderCues();
      setupEventListeners();
    });

    // Render category pills
    function renderCategoryPills() {
      const container = document.getElementById('categoryPills');
      const totalDrills = DRILLS.length;

      let html = `<button class="category-pill active" data-category="">All <span class="count">(${totalDrills})</span></button>`;

      CATEGORIES.forEach(cat => {
        const count = DRILLS.filter(d => d.category === cat.id).length;
        html += `<button class="category-pill" data-category="${cat.id}">${cat.icon} ${cat.name} <span class="count">(${count})</span></button>`;
      });

      container.innerHTML = html;
    }

    // Render drills
    function renderDrills() {
      const container = document.getElementById('drillGrid');
      let filtered = DRILLS;

      // Filter by category
      if (currentCategory) {
        filtered = filtered.filter(d => d.category === parseInt(currentCategory));
      }

      // Filter by level
      if (currentLevel) {
        filtered = filtered.filter(d => d.levels.includes(currentLevel));
      }

      // Filter by search
      if (searchQuery) {
        const query = searchQuery.toLowerCase();
        filtered = filtered.filter(d =>
          d.name.toLowerCase().includes(query) ||
          getCategoryName(d.category).toLowerCase().includes(query)
        );
      }

      // Update count
      document.getElementById('drillCount').textContent = `${filtered.length} drills`;

      if (filtered.length === 0) {
        container.innerHTML = `
          <div class="empty-state">
            <div class="empty-state-icon">üîç</div>
            <p>No drills match your filters</p>
          </div>
        `;
        return;
      }

      container.innerHTML = filtered.map(drill => renderDrillCard(drill)).join('');
    }

    // Render single drill card
    function renderDrillCard(drill) {
      const category = CATEGORIES.find(c => c.id === drill.category);
      const isExpanded = expandedDrill === drill.id;
      const isInPractice = practiceList.some(p => p.id === drill.id);

      return `
        <div class="drill-card ${isExpanded ? 'expanded' : ''}" data-drill-id="${drill.id}">
          <div class="drill-header" onclick="toggleDrill('${drill.id}')">
            <div class="drill-info">
              <div class="drill-name">${drill.name}</div>
              <div class="drill-meta">
                <span class="drill-category">${category.icon} ${category.name}</span>
                <span class="drill-sequence">${drill.sequence}</span>
              </div>
            </div>
            <div class="drill-levels">
              ${drill.levels.map(l => `<span class="drill-level level-${l}">${l[0].toUpperCase()}</span>`).join('')}
            </div>
            <span class="expand-icon">‚ñº</span>
          </div>
          <div class="drill-details">
            ${drill.balance ? `
              <div class="drill-section">
                <div class="drill-section-title">Coaching Cue</div>
                <div class="drill-balance">${drill.balance}</div>
              </div>
            ` : ''}

            <div class="drill-section">
              <div class="drill-section-title">Execution</div>
              <ol class="drill-steps">
                ${drill.execution.map(step => `<li>${step}</li>`).join('')}
              </ol>
            </div>

            ${drill.modifications && drill.modifications.length > 0 ? `
              <div class="drill-section">
                <div class="drill-section-title">Modifications</div>
                <div class="drill-mods">
                  ${drill.modifications.map(mod => `<span class="drill-mod">${mod}</span>`).join('')}
                </div>
              </div>
            ` : ''}

            ${drill.tip ? `
              <div class="drill-section">
                <div class="drill-tip">${drill.tip}</div>
              </div>
            ` : ''}

            <div class="drill-actions">
              <button class="drill-action ${isInPractice ? 'added' : ''}" onclick="togglePractice('${drill.id}')">
                ${isInPractice ? '‚úì Added' : '+ Add to Practice'}
              </button>
            </div>
          </div>
        </div>
      `;
    }

    // Render coaching cues
    function renderCues() {
      const container = document.getElementById('cuesGrid');
      container.innerHTML = COACHING_CUES.map(cue => `
        <div class="cue-card">
          <div class="cue-text">"${cue.cue}"</div>
          <div class="cue-meaning">${cue.meaning}</div>
        </div>
      `).join('');
    }

    // Toggle drill expansion
    function toggleDrill(id) {
      if (expandedDrill === id) {
        expandedDrill = null;
      } else {
        expandedDrill = id;
      }
      renderDrills();
    }

    // Get category name by id
    function getCategoryName(id) {
      const cat = CATEGORIES.find(c => c.id === id);
      return cat ? cat.name : '';
    }

    // Setup event listeners
    function setupEventListeners() {
      // Search
      document.getElementById('drillSearch').addEventListener('input', (e) => {
        searchQuery = e.target.value;
        renderDrills();
      });

      // Level filter
      document.getElementById('levelFilter').addEventListener('change', (e) => {
        currentLevel = e.target.value;
        renderDrills();
      });

      // Category pills
      document.getElementById('categoryPills').addEventListener('click', (e) => {
        const pill = e.target.closest('.category-pill');
        if (pill) {
          document.querySelectorAll('.category-pill').forEach(p => p.classList.remove('active'));
          pill.classList.add('active');
          currentCategory = pill.dataset.category;
          renderDrills();
        }
      });

      // Smooth scroll for nav links
      document.querySelectorAll('.nav-link').forEach(link => {
        link.addEventListener('click', (e) => {
          const href = link.getAttribute('href');
          if (href.startsWith('#')) {
            e.preventDefault();
            document.querySelector(href).scrollIntoView({ behavior: 'smooth' });
          }
        });
      });
    }

    // Practice Builder Functions
    function togglePractice(drillId) {
      const drill = DRILLS.find(d => d.id === drillId);
      const index = practiceList.findIndex(p => p.id === drillId);

      if (index > -1) {
        practiceList.splice(index, 1);
      } else {
        practiceList.push({
          id: drill.id,
          name: drill.name,
          category: getCategoryName(drill.category),
          minutes: 5
        });
      }

      updateBuilder();
      renderDrills();
    }

    function updateBuilder() {
      const container = document.getElementById('builderDrills');
      const countEl = document.getElementById('builderCount');
      const totalEl = document.getElementById('builderTotal');
      const builder = document.getElementById('practiceBuilder');

      countEl.textContent = practiceList.length;

      if (practiceList.length === 0) {
        builder.classList.remove('has-drills');
        container.innerHTML = `
          <div class="empty-state">
            <p>Click "Add to Practice" on any drill to start building</p>
          </div>
        `;
        totalEl.textContent = '0 min';
        return;
      }

      builder.classList.add('has-drills');

      container.innerHTML = practiceList.map((item, index) => `
        <div class="builder-drill">
          <div class="builder-drill-info">
            <div class="builder-drill-name">${item.name}</div>
            <div class="builder-drill-cat">${item.category}</div>
          </div>
          <div class="builder-drill-time">
            <input type="number" value="${item.minutes}" min="1" max="60" onchange="updateTime(${index}, this.value)">
            <span>min</span>
          </div>
          <button class="builder-drill-remove" onclick="removeDrill(${index})">√ó</button>
        </div>
      `).join('');

      const total = practiceList.reduce((sum, item) => sum + item.minutes, 0);
      totalEl.textContent = `${total} min`;
    }

    function updateTime(index, value) {
      practiceList[index].minutes = parseInt(value) || 5;
      updateBuilder();
    }

    function removeDrill(index) {
      practiceList.splice(index, 1);
      updateBuilder();
      renderDrills();
    }

    function clearBuilder() {
      practiceList = [];
      updateBuilder();
      renderDrills();
    }

    function toggleBuilder() {
      const builder = document.getElementById('practiceBuilder');
      builderExpanded = !builderExpanded;
      builder.classList.toggle('expanded', builderExpanded);
    }

    function printPractice() {
      if (practiceList.length === 0) {
        alert('Add some drills to your practice first!');
        return;
      }

      // Expand all drills in practice list for printing
      const drillsToPrint = practiceList.map(p => DRILLS.find(d => d.id === p.id));

      const printWindow = window.open('', '_blank');
      printWindow.document.write(`
        <!DOCTYPE html>
        <html>
        <head>
          <title>Practice Plan - Coach D</title>
          <style>
            body { font-family: Arial, sans-serif; padding: 20px; }
            h1 { font-size: 24px; margin-bottom: 5px; }
            .date { color: #666; margin-bottom: 20px; }
            .drill { border: 1px solid #ccc; padding: 15px; margin-bottom: 15px; page-break-inside: avoid; }
            .drill-header { display: flex; justify-content: space-between; margin-bottom: 10px; }
            .drill-name { font-weight: bold; font-size: 16px; }
            .drill-time { color: #666; }
            .drill-cue { font-style: italic; background: #f5f5f5; padding: 10px; margin-bottom: 10px; border-left: 3px solid #d4a84b; }
            .steps { padding-left: 20px; }
            .steps li { margin-bottom: 5px; }
            .total { text-align: right; font-weight: bold; margin-top: 20px; padding-top: 10px; border-top: 2px solid #333; }
            @media print {
              body { padding: 0; }
              .drill { break-inside: avoid; }
            }
          </style>
        </head>
        <body>
          <h1>Practice Plan</h1>
          <div class="date">${new Date().toLocaleDateString('en-US', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' })}</div>

          ${practiceList.map((item, i) => {
            const drill = drillsToPrint[i];
            return `
              <div class="drill">
                <div class="drill-header">
                  <span class="drill-name">${i + 1}. ${drill.name}</span>
                  <span class="drill-time">${item.minutes} min</span>
                </div>
                ${drill.balance ? `<div class="drill-cue">${drill.balance}</div>` : ''}
                <ol class="steps">
                  ${drill.execution.map(step => `<li>${step}</li>`).join('')}
                </ol>
              </div>
            `;
          }).join('')}

          <div class="total">Total Practice Time: ${practiceList.reduce((sum, item) => sum + item.minutes, 0)} minutes</div>
        </body>
        </html>
      `);
      printWindow.document.close();
      printWindow.print();
    }
  </script>

  </div><!-- End Protected Content -->

  <!-- Password Check Script -->
  <script>
    // Server-side password verification
    // Access code validated via Netlify function ‚Äî never stored client-side

    async function checkPassword() {
      const input = document.getElementById('passwordInput').value;
      const errorEl = document.getElementById('passwordError');
      const submitBtn = document.querySelector('.password-submit');

      if (!input) return;

      submitBtn.disabled = true;
      submitBtn.textContent = 'Checking...';
      errorEl.classList.remove('show');

      try {
        const res = await fetch('/.netlify/functions/verify-access', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ code: input })
        });

        const data = await res.json();

        if (data.success) {
          localStorage.setItem('mainCourtAccess', 'granted');
          unlockContent();
        } else {
          errorEl.classList.add('show');
          document.getElementById('passwordInput').value = '';
          document.getElementById('passwordInput').focus();
        }
      } catch (err) {
        errorEl.textContent = 'Connection error. Try again.';
        errorEl.classList.add('show');
      }

      submitBtn.disabled = false;
      submitBtn.textContent = 'Enter';
    }

    function unlockContent() {
      document.getElementById('passwordGate').classList.add('hidden');
      document.getElementById('protectedContent').classList.add('unlocked');
    }

    // Check on load
    document.addEventListener('DOMContentLoaded', () => {
      if (localStorage.getItem('mainCourtAccess') === 'granted') {
        unlockContent();
      }

      // Enter key submits
      document.getElementById('passwordInput').addEventListener('keypress', (e) => {
        if (e.key === 'Enter') checkPassword();
      });
    });
  </script>
</body>
</html>
